{"ast":null,"code":"import { message } from \"antd\";\nimport { history } from \"../../App\";\nimport httpServ from \"../../serviceWorker/http.service\";\nimport { ADD_ROOM, GET_ROOM_DETAIL, GET_ROOM_LIST } from \"../Constants/roomType\";\nexport const getRoomListAction = function () {\n  let locationId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return dispatch => {\n    httpServ.getRoomList(locationId).then(res => {\n      dispatch({\n        type: GET_ROOM_LIST,\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const addRoomAction = (data, locationId) => {\n  return dispatch => {\n    httpServ.addRoom(data).then(res => {\n      message.success(\"Thêm thành công!\");\n      dispatch(getRoomListAction(locationId));\n      history.push(`/admin/rooms/${locationId}`);\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const getRoomDetailAction = (id, locationId) => {\n  return dispatch => {\n    httpServ.getRoomDetail(id).then(res => {\n      dispatch({\n        type: GET_ROOM_DETAIL,\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const updateRoomDetailAction = (data, id, locationId) => {\n  return dispatch => {\n    httpServ.updateRoomDetail(data, id).then(res => {\n      message.success(\"Cập nhật thành công!\");\n      history.push(`/admin/rooms/${locationId}`);\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const deleteRoomAction = (id, locationId) => {\n  return dispatch => {\n    httpServ.deleteRoom(id).then(res => {\n      httpServ.getRoomList(locationId).then(res => {\n        message.success(\"Xóa thành công!\");\n        dispatch({\n          type: GET_ROOM_LIST,\n          payload: res.data\n        });\n        history.push(`/admin/rooms/${locationId}`);\n      }).catch(err => {\n        console.log(\"err\", err);\n      });\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const updateImgRoomAction = (roomImg, id) => {\n  return dispatch => {\n    httpServ.updateImgRoom(roomImg, id).then(res => {\n      message.success(\"Cập nhật ảnh thành công!\");\n      history.go();\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/siuhuynh/Desktop/BC-18/DU-AN-CUOI-KHOA/My-Airbnb-Project/src/redux/Actions/roomAction.js"],"names":["message","history","httpServ","ADD_ROOM","GET_ROOM_DETAIL","GET_ROOM_LIST","getRoomListAction","locationId","dispatch","getRoomList","then","res","type","payload","data","catch","err","console","log","addRoomAction","addRoom","success","push","getRoomDetailAction","id","getRoomDetail","updateRoomDetailAction","updateRoomDetail","deleteRoomAction","deleteRoom","updateImgRoomAction","roomImg","updateImgRoom","go"],"mappings":"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","sourcesContent":["import { message } from \"antd\";\nimport { history } from \"../../App\";\nimport httpServ from \"../../serviceWorker/http.service\";\nimport {\n  ADD_ROOM,\n  GET_ROOM_DETAIL,\n  GET_ROOM_LIST,\n} from \"../Constants/roomType\";\n\nexport const getRoomListAction = (locationId = \"\") => {\n  return (dispatch) => {\n    httpServ\n      .getRoomList(locationId)\n      .then((res) => {\n        dispatch({\n          type: GET_ROOM_LIST,\n          payload: res.data,\n        });\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  };\n};\n\nexport const addRoomAction = (data, locationId) => {\n  return (dispatch) => {\n    httpServ\n      .addRoom(data)\n      .then((res) => {\n        message.success(\"Thêm thành công!\");\n        dispatch(getRoomListAction(locationId));\n        history.push(`/admin/rooms/${locationId}`);\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  };\n};\n\nexport const getRoomDetailAction = (id, locationId) => {\n  return (dispatch) => {\n    httpServ\n      .getRoomDetail(id)\n      .then((res) => {\n        dispatch({\n          type: GET_ROOM_DETAIL,\n          payload: res.data,\n        });\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  };\n};\n\nexport const updateRoomDetailAction = (data, id, locationId) => {\n  return (dispatch) => {\n    httpServ\n      .updateRoomDetail(data, id)\n      .then((res) => {\n        message.success(\"Cập nhật thành công!\");\n        history.push(`/admin/rooms/${locationId}`);\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  };\n};\n\nexport const deleteRoomAction = (id, locationId) => {\n  return (dispatch) => {\n    httpServ\n      .deleteRoom(id)\n      .then((res) => {\n        httpServ\n          .getRoomList(locationId)\n          .then((res) => {\n            message.success(\"Xóa thành công!\");\n            dispatch({\n              type: GET_ROOM_LIST,\n              payload: res.data,\n            });\n            history.push(`/admin/rooms/${locationId}`);\n          })\n          .catch((err) => {\n            console.log(\"err\", err);\n          });\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  };\n};\n\nexport const updateImgRoomAction = (roomImg, id) => {\n  return (dispatch) => {\n    httpServ\n      .updateImgRoom(roomImg, id)\n      .then((res) => {\n        message.success(\"Cập nhật ảnh thành công!\");\n        history.go();\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}