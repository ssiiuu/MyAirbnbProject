{"version":3,"file":"tour.cjs.production.min.js","sources":["../src/hooks.tsx","../src/Keyboard.tsx","../src/styles.tsx","../src/components/Badge.tsx","../src/components/Navigation.tsx","../src/components/index.tsx","../src/components/Close.tsx","../src/components/Content.tsx","../src/components/PopoverContent.tsx","../src/Tour.tsx","../src/Context.tsx","../src/withTour.tsx"],"sourcesContent":["import { useEffect, useCallback, useState } from 'react'\nimport { inView, smoothScroll, getWindow, getRect } from '@reactour/utils'\nimport { StepType } from './types'\n\nlet initialState = {\n  bottom: 0,\n  height: 0,\n  left: 0,\n  right: 0,\n  top: 0,\n  width: 0,\n  windowWidth: 0,\n  windowHeight: 0,\n}\n\nexport function useSizes(\n  step: StepType,\n  scrollOptions: ScrollIntoViewOptions & {\n    inViewThreshold?: number | { x?: number; y?: number }\n  } = {\n    block: 'center',\n    behavior: 'smooth',\n    inViewThreshold: 0,\n  }\n) {\n  const [transition, setTransition] = useState(false)\n  const [observing, setObserving] = useState(false)\n  const [isHighlightingObserved, setIsHighlightingObserved] = useState(false)\n  const [refresher, setRefresher] = useState(null as any)\n  const [dimensions, setdDimensions] = useState(initialState)\n  const target =\n    step?.selector instanceof Element\n      ? step?.selector\n      : document.querySelector(step?.selector)\n\n  const handleResize = useCallback(() => {\n    // if (!target && !step?.highlightedSelectors) return\n    setdDimensions(\n      getHighlightedRect(target, step?.highlightedSelectors, step?.bypassElem)\n    )\n  }, [target, step?.highlightedSelectors])\n\n  useEffect(() => {\n    handleResize()\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [target, step?.highlightedSelectors, refresher])\n\n  useEffect(() => {\n    const isInView = inView({\n      ...dimensions,\n      threshold: scrollOptions.inViewThreshold,\n    })\n    // TODO: - Solve cases when no target but highlightedSelectors\n    if (!isInView && target) {\n      setTransition(true)\n      smoothScroll(target, scrollOptions)\n        .then(() => {\n          if (!observing) setRefresher(Date.now())\n        })\n        .finally(() => {\n          setTransition(false)\n        })\n    }\n  }, [dimensions])\n\n  function observableRefresher() {\n    setObserving(true)\n    const { hasHighligtedElems, ...dimesions } = getHighlightedRect(\n      target,\n      step?.highlightedSelectors,\n      step?.bypassElem\n    )\n    setIsHighlightingObserved(hasHighligtedElems)\n    setdDimensions(dimesions)\n    setObserving(false)\n  }\n\n  return {\n    sizes: dimensions,\n    transition,\n    target,\n    observableRefresher,\n    isHighlightingObserved,\n  }\n}\n\nfunction getHighlightedRect(\n  node: Element | null,\n  highlightedSelectors: string[] = [],\n  bypassElem = true\n) {\n  let hasHighligtedElems = false\n  const { w: windowWidth, h: windowHeight } = getWindow()\n  if (!highlightedSelectors) {\n    return {\n      ...getRect(node),\n      windowWidth,\n      windowHeight,\n      hasHighligtedElems: false,\n    }\n  }\n\n  let attrs = getRect(node)\n  let altAttrs = {\n    bottom: 0,\n    height: 0,\n    left: windowWidth,\n    right: 0,\n    top: windowHeight,\n    width: 0,\n  }\n\n  for (const selector of highlightedSelectors) {\n    const element = document.querySelector(selector) as HTMLElement\n    if (\n      !element ||\n      element.style.display === 'none' ||\n      element.style.visibility === 'hidden'\n    ) {\n      continue\n    }\n\n    const rect = getRect(element)\n    hasHighligtedElems = true\n    if (bypassElem || !node) {\n      if (rect.top < altAttrs.top) {\n        altAttrs.top = rect.top\n      }\n\n      if (rect.right > altAttrs.right) {\n        altAttrs.right = rect.right\n      }\n\n      if (rect.bottom > altAttrs.bottom) {\n        altAttrs.bottom = rect.bottom\n      }\n\n      if (rect.left < altAttrs.left) {\n        altAttrs.left = rect.left\n      }\n\n      altAttrs.width = altAttrs.right - altAttrs.left\n      altAttrs.height = altAttrs.bottom - altAttrs.top\n    } else {\n      if (rect.top < attrs.top) {\n        attrs.top = rect.top\n      }\n\n      if (rect.right > attrs.right) {\n        attrs.right = rect.right\n      }\n\n      if (rect.bottom > attrs.bottom) {\n        attrs.bottom = rect.bottom\n      }\n\n      if (rect.left < attrs.left) {\n        attrs.left = rect.left\n      }\n\n      attrs.width = attrs.right - attrs.left\n      attrs.height = attrs.bottom - attrs.top\n    }\n  }\n\n  const bypassable =\n    bypassElem || !node ? altAttrs.width > 0 && altAttrs.height > 0 : false\n\n  return {\n    left: (bypassable ? altAttrs : attrs).left,\n    top: (bypassable ? altAttrs : attrs).top,\n    right: (bypassable ? altAttrs : attrs).right,\n    bottom: (bypassable ? altAttrs : attrs).bottom,\n    width: (bypassable ? altAttrs : attrs).width,\n    height: (bypassable ? altAttrs : attrs).height,\n    windowWidth,\n    windowHeight,\n    hasHighligtedElems,\n  }\n}\n","import React, { Dispatch, useEffect } from 'react'\nimport { KeyboardParts } from './types'\n\nconst Keyboard: React.FC<KeyboardProps> = ({\n  disableKeyboardNavigation,\n  setCurrentStep,\n  setIsOpen,\n  stepsLength,\n  disable,\n  rtl,\n}) => {\n  function keyDownHandler(e: any) {\n    e.stopPropagation()\n\n    if (disableKeyboardNavigation === true || disable) {\n      return\n    }\n    let isEscDisabled, isRightDisabled, isLeftDisabled\n    if (disableKeyboardNavigation) {\n      isEscDisabled = disableKeyboardNavigation.includes('esc')\n      isRightDisabled = disableKeyboardNavigation.includes('right')\n      isLeftDisabled = disableKeyboardNavigation.includes('left')\n    }\n    function next() {\n      setCurrentStep(c => Math.min(c + 1, stepsLength - 1))\n    }\n\n    function prev() {\n      setCurrentStep(c => Math.max(c - 1, 0))\n    }\n    if (e.keyCode === 27 && !isEscDisabled) {\n      e.preventDefault()\n      setIsOpen(false)\n    }\n    if (e.keyCode === 39 && !isRightDisabled) {\n      e.preventDefault()\n      if (rtl) {\n        prev()\n      } else {\n        next()\n      }\n    }\n    if (e.keyCode === 37 && !isLeftDisabled) {\n      e.preventDefault()\n      if (rtl) {\n        next()\n      } else {\n        prev()\n      }\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('keydown', keyDownHandler, false)\n    return () => {\n      window.removeEventListener('keydown', keyDownHandler)\n    }\n  }, [disable])\n\n  return null\n}\n\nexport type KeyboardProps = {\n  disableKeyboardNavigation?: boolean | KeyboardParts[]\n  setCurrentStep: Dispatch<React.SetStateAction<number>>\n  setIsOpen: Dispatch<React.SetStateAction<Boolean>>\n  stepsLength: number\n  disable?: boolean\n  rtl?: boolean\n}\n\nexport default Keyboard\n","export type StylesKeys =\n  | 'badge'\n  | 'controls'\n  | 'navigation'\n  | 'button'\n  | 'arrow'\n  | 'dot'\n  | 'close'\n\nexport type StylesObj = {\n  [key in StylesKeys]?: StyleFn\n}\n\nexport type StyleFn = (\n  props: { [key: string]: any },\n  state?: { [key: string]: any }\n) => React.CSSProperties\n\nexport type Styles = {\n  badge: StyleFn\n  controls: StyleFn\n  navigation: StyleFn\n  button: StyleFn\n  arrow: StyleFn\n  dot: StyleFn\n  close: StyleFn\n}\n\nexport type StyleKey = keyof Styles\n\nexport const defaultStyles: Styles = {\n  badge: () => ({\n    position: 'absolute',\n    fontFamily: 'monospace',\n    background: 'var(--reactour-accent,#007aff)',\n    height: '1.875em',\n    lineHeight: 2,\n    paddingLeft: '0.8125em',\n    paddingRight: '0.8125em',\n    fontSize: '1em',\n    borderRadius: '1.625em',\n    color: 'white',\n    textAlign: 'center',\n    boxShadow: '0 0.25em 0.5em rgba(0, 0, 0, 0.3)',\n    top: '-0.8125em',\n    left: '-0.8125em',\n  }),\n  controls: () => ({\n    display: 'flex',\n    marginTop: 24,\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  }),\n  navigation: () => ({\n    counterReset: 'dot',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  }),\n  button: ({ disabled }) => ({\n    display: 'block',\n    padding: 0,\n    border: 0,\n    background: 'none',\n    cursor: disabled ? 'not-allowed' : 'pointer',\n  }),\n  arrow: ({ disabled }) => ({\n    color: disabled ? '#caccce' : '#646464',\n    width: 16,\n    height: 12,\n    flex: '0 0 16px',\n    '&:hover': {\n      color: disabled ? '#caccce' : '#000',\n    },\n  }),\n  dot: ({ current, disabled, showNumber }) => ({\n    counterIncrement: 'dot',\n    width: 8,\n    height: 8,\n    border: current ? '0' : '1px solid #caccce',\n    borderRadius: '100%',\n    padding: 0,\n    display: 'block',\n    margin: 4,\n    transition: 'opacity 0.3s, transform 0.3s',\n    cursor: disabled ? 'not-allowed' : 'pointer',\n    transform: `scale(${current ? 1.25 : 1})`,\n    color: current ? 'var(--reactour-accent, #007aff)' : '#caccce',\n    background: current ? 'var(--reactour-accent, #007aff)' : 'none',\n    '&:before': {\n      content: 'counter(dot)',\n      position: 'absolute',\n      bottom: 'calc(100% + 0.25em)',\n      left: '50%',\n      opacity: 0,\n      transform: 'translate(-50%, 1em)',\n      transition: '0.3s',\n      display: showNumber ? 'block' : 'none',\n    },\n    '&:hover': {\n      backgroundColor: 'currentColor',\n      '&:before': {\n        opacity: 0.5,\n        transform: 'translate(-50%, -2px)',\n      },\n    },\n  }),\n  close: ({ disabled }) => ({\n    position: 'absolute',\n    top: 22,\n    right: 22,\n    width: 9,\n    height: 9,\n    color: disabled ? '#caccce' : '#5e5e5e',\n    '&:hover': {\n      color: disabled ? '#caccce' : '#000',\n    },\n  }),\n}\n\nexport type getStylesType = (key: StylesKeys, extra?: any) => {}\n\nexport function stylesMatcher(styles: StylesObj) {\n  return (key: StyleKey, state: {}): {} => {\n    const base = defaultStyles[key](state)\n    const custom = styles[key]\n    return custom ? custom(base, state) : base\n  }\n}\n","/** @jsx jsx */\nimport { jsx } from '@emotion/react'\nimport React from 'react'\nimport { StylesObj, stylesMatcher } from '../styles'\n\nconst Badge: React.FC<BadgeProps> = ({ styles = {}, children }) => {\n  const getStyles = stylesMatcher(styles)\n  return <span css={getStyles('badge', {})}>{children}</span>\n}\n\nexport type BadgeProps = {\n  styles?: StylesObj\n}\n\nexport default Badge\n","/** @jsx jsx */\nimport { jsx } from '@emotion/react'\nimport React, { Dispatch, ComponentType } from 'react'\nimport { StylesObj, stylesMatcher } from '../styles'\nimport { StepType, BtnFnProps, NavButtonProps } from '../types'\n\nconst Navigation: React.FC<NavigationProps> = ({\n  styles = {},\n  steps,\n  setCurrentStep,\n  currentStep,\n  setIsOpen,\n  nextButton,\n  prevButton,\n  disableDots,\n  hideButtons,\n  disableAll,\n  rtl,\n  Arrow = DefaultArrow,\n}) => {\n  const stepsLength = steps.length\n  const getStyles = stylesMatcher(styles)\n\n  const Button: React.FC<NavButtonProps> = ({\n    onClick,\n    kind = 'next',\n    children,\n    hideArrow,\n  }) => {\n    function clickHandler() {\n      if (!disableAll) {\n        if (onClick && typeof onClick === 'function') {\n          onClick()\n        } else {\n          if (kind === 'next') {\n            setCurrentStep(Math.min(currentStep + 1, stepsLength - 1))\n          } else {\n            setCurrentStep(Math.max(currentStep - 1, 0))\n          }\n        }\n      }\n    }\n\n    return (\n      <button\n        css={getStyles('button', {\n          kind,\n          disabled: disableAll\n            ? disableAll\n            : kind === 'next'\n            ? stepsLength - 1 === currentStep\n            : currentStep === 0,\n        })}\n        onClick={clickHandler}\n        aria-label={`Go to ${kind} step`}\n      >\n        {!hideArrow ? (\n          <Arrow\n            styles={styles}\n            inverted={rtl ? kind === 'prev' : kind === 'next'}\n            disabled={\n              disableAll\n                ? disableAll\n                : kind === 'next'\n                ? stepsLength - 1 === currentStep\n                : currentStep === 0\n            }\n          />\n        ) : null}\n        {children}\n      </button>\n    )\n  }\n\n  return (\n    <div css={getStyles('controls', {})} dir={rtl ? 'rtl' : 'ltr'}>\n      {!hideButtons ? (\n        prevButton && typeof prevButton === 'function' ? (\n          prevButton({\n            Button,\n            setCurrentStep,\n            currentStep,\n            stepsLength,\n            setIsOpen,\n          })\n        ) : (\n          <Button kind=\"prev\" />\n        )\n      ) : null}\n      <div css={getStyles('navigation', {})}>\n        {Array.from({ length: stepsLength }, (_, i) => i).map(index => {\n          return (\n            <button\n              css={getStyles('dot', {\n                current: index === currentStep,\n                disabled: disableDots || disableAll,\n              })}\n              onClick={() => {\n                if (!disableDots && !disableAll) setCurrentStep(index)\n              }}\n              key={`navigation_dot_${index}`}\n              aria-label={\n                steps[index]?.navDotAriaLabel || `Go to step ${index + 1}`\n              }\n            />\n          )\n        })}\n      </div>\n      {!hideButtons ? (\n        nextButton && typeof nextButton === 'function' ? (\n          nextButton({\n            Button,\n            setCurrentStep,\n            currentStep,\n            stepsLength,\n            setIsOpen,\n          })\n        ) : (\n          <Button />\n        )\n      ) : null}\n    </div>\n  )\n}\n\ntype BaseProps = {\n  styles?: StylesObj\n}\n\nexport type NavigationProps = BaseProps & {\n  setCurrentStep: Dispatch<React.SetStateAction<number>>\n  steps: StepType[]\n  currentStep: number\n  disableDots?: boolean\n  nextButton?: (props: BtnFnProps) => void\n  prevButton?: (props: BtnFnProps) => void\n  setIsOpen: Dispatch<React.SetStateAction<Boolean>>\n  hideButtons?: boolean\n  hideDots?: boolean\n  disableAll?: boolean\n  rtl?: boolean\n  Arrow?: ComponentType<ArrowProps>\n}\n\nexport default Navigation\n\nexport type ArrowProps = BaseProps & {\n  inverted?: Boolean\n  disabled?: Boolean\n}\n\nexport const DefaultArrow: React.FC<ArrowProps> = ({\n  styles = {},\n  inverted = false,\n  disabled,\n}) => {\n  const getStyles = stylesMatcher(styles)\n  return (\n    <svg\n      viewBox=\"0 0 18.4 14.4\"\n      css={getStyles('arrow', { inverted, disabled })}\n    >\n      <path\n        d={\n          inverted\n            ? 'M17 7.2H1M10.8 1L17 7.2l-6.2 6.2'\n            : 'M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2'\n        }\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeMiterlimit=\"10\"\n      />\n    </svg>\n  )\n}\n","import { ComponentType } from 'react'\nimport Badge, { BadgeProps } from './Badge'\nimport Close, { CloseProps } from './Close'\nimport Content, { ContentProps } from './Content'\nimport Navigation, {\n  NavigationProps,\n  DefaultArrow as Arrow,\n  ArrowProps,\n} from './Navigation'\n\nexport interface PopoverComponents {\n  Badge: ComponentType<BadgeProps>\n  Close: ComponentType<CloseProps>\n  Content: ComponentType<ContentProps>\n  Navigation: ComponentType<NavigationProps>\n  Arrow: ComponentType<ArrowProps>\n}\n\nexport type PopoverComponentsType = Partial<PopoverComponents>\n\nexport const components = {\n  Badge,\n  Close,\n  Content,\n  Navigation,\n  Arrow,\n}\n\nexport type PopoverComponentGeneric = typeof components\n\nexport const defaultComponents = (\n  comps: PopoverComponentsType\n): PopoverComponentGeneric =>\n  ({\n    ...components,\n    ...comps,\n  } as PopoverComponentGeneric)\n","/** @jsx jsx */\nimport { jsx } from '@emotion/react'\nimport React from 'react'\nimport { StylesObj, stylesMatcher } from '../styles'\n\nconst Close: React.FC<CloseProps> = ({\n  styles = {},\n  onClick,\n  disabled,\n  ...props\n}) => {\n  const getStyles = stylesMatcher(styles)\n  return (\n    <button\n      css={{ ...getStyles('button', {}), ...getStyles('close', { disabled }) }}\n      onClick={onClick}\n      {...props}\n    >\n      <svg viewBox=\"0 0 9.1 9.1\" aria-hidden role=\"presentation\">\n        <path\n          fill=\"currentColor\"\n          d=\"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z\"\n        />\n      </svg>\n    </button>\n  )\n}\n\nexport type CloseProps = {\n  styles?: StylesObj\n  onClick?: () => void\n  disabled?: boolean\n}\n\nexport default Close\n","import React, { Dispatch } from 'react'\n\nconst Content: React.FC<ContentProps> = ({\n  content,\n  setCurrentStep,\n  transition,\n  isHighlightingObserved,\n  currentStep,\n  setIsOpen,\n}) => {\n  return typeof content === 'function'\n    ? content({\n        setCurrentStep,\n        transition,\n        isHighlightingObserved,\n        currentStep,\n        setIsOpen,\n      })\n    : content\n}\n\nexport type ContentProps = {\n  content: any\n  setCurrentStep: Dispatch<React.SetStateAction<number>>\n  setIsOpen?: Dispatch<React.SetStateAction<Boolean>>\n  currentStep: number\n  transition?: boolean\n  isHighlightingObserved?: boolean\n}\n\nexport default Content\n","/** @jsx jsx */\nimport { jsx } from '@emotion/react'\nimport React from 'react'\nimport { defaultComponents } from './index'\nimport { PopoverContentProps } from '../types'\n\nconst PopoverContent: React.FC<PopoverContentProps> = ({\n  styles,\n  components = {},\n  badgeContent,\n  accessibilityOptions,\n  disabledActions,\n  onClickClose,\n  steps,\n  setCurrentStep,\n  currentStep,\n  transition,\n  isHighlightingObserved,\n  setIsOpen,\n  nextButton,\n  prevButton,\n  disableDotsNavigation,\n  rtl,\n  showPrevNextButtons = true,\n  showCloseButton = true,\n  showNavigation = true,\n  showBadge = true,\n}) => {\n  const step = steps[currentStep]\n  const { Badge, Close, Content, Navigation, Arrow } = defaultComponents(\n    components\n  )\n\n  const badge =\n    badgeContent && typeof badgeContent === 'function'\n      ? badgeContent({\n          currentStep,\n          totalSteps: steps.length,\n          transition,\n        })\n      : currentStep + 1\n\n  function closeClickHandler() {\n    if (!disabledActions) {\n      if (onClickClose && typeof onClickClose === 'function') {\n        onClickClose({ setCurrentStep, setIsOpen, currentStep })\n      } else {\n        setIsOpen(false)\n      }\n    }\n  }\n\n  return (\n    <React.Fragment>\n      {showBadge ? <Badge styles={styles}>{badge}</Badge> : null}\n      {showCloseButton ? (\n        <Close\n          styles={styles}\n          aria-label={accessibilityOptions?.closeButtonAriaLabel}\n          disabled={disabledActions}\n          onClick={closeClickHandler}\n        />\n      ) : null}\n      <Content\n        content={step?.content}\n        setCurrentStep={setCurrentStep}\n        currentStep={currentStep}\n        transition={transition}\n        isHighlightingObserved={isHighlightingObserved}\n        setIsOpen={setIsOpen}\n      />\n      {showNavigation ? (\n        <Navigation\n          setCurrentStep={setCurrentStep}\n          currentStep={currentStep}\n          setIsOpen={setIsOpen}\n          steps={steps}\n          styles={styles}\n          aria-hidden={!accessibilityOptions?.showNavigationScreenReaders}\n          nextButton={nextButton}\n          prevButton={prevButton}\n          disableDots={disableDotsNavigation}\n          hideButtons={!showPrevNextButtons}\n          disableAll={disabledActions}\n          rtl={rtl}\n          Arrow={Arrow}\n        />\n      ) : null}\n    </React.Fragment>\n  )\n}\n\nexport default PopoverContent\n","import React, { useEffect } from 'react'\nimport { Portal, Observables } from '@reactour/utils'\nimport { Mask } from '@reactour/mask'\nimport { Popover } from '@reactour/popover'\nimport { FocusScope } from '@react-aria/focus'\nimport { useSizes } from './hooks'\nimport { TourProps, Padding } from './types'\nimport Keyboard from './Keyboard'\nimport PopoverContent from './components/PopoverContent'\n\nconst Tour: React.FC<TourProps> = ({\n  currentStep,\n  setCurrentStep,\n  setIsOpen,\n  steps = [],\n  styles: globalStyles = {},\n  scrollSmooth,\n  afterOpen,\n  beforeClose,\n  padding = 10,\n  position,\n  onClickMask,\n  onClickHighlighted,\n  className = 'reactour__popover',\n  maskClassName = 'reactour__mask',\n  highlightedMaskClassName,\n  disableInteraction,\n  disableFocusLock,\n  disableKeyboardNavigation,\n  inViewThreshold,\n  disabledActions,\n  setDisabledActions,\n  rtl,\n  accessibilityOptions = {\n    closeButtonAriaLabel: 'Close Tour',\n    showNavigationScreenReaders: true,\n  },\n  ContentComponent,\n  ...popoverProps\n}) => {\n  const step = steps[currentStep]\n  const styles = step?.styles || globalStyles\n\n  const {\n    sizes,\n    transition,\n    observableRefresher,\n    isHighlightingObserved,\n    target,\n  } = useSizes(step, {\n    block: 'center',\n    behavior: scrollSmooth ? 'smooth' : 'auto',\n    inViewThreshold,\n  })\n\n  useEffect(() => {\n    if (afterOpen && typeof afterOpen === 'function') {\n      afterOpen(target)\n    }\n    return () => {\n      if (beforeClose && typeof beforeClose === 'function') {\n        beforeClose(target)\n      }\n    }\n  }, [])\n\n  const { maskPadding, popoverPadding } = getPadding(step?.padding || padding)\n\n  function maskClickHandler() {\n    if (!disabledActions) {\n      if (onClickMask && typeof onClickMask === 'function') {\n        onClickMask({ setCurrentStep, setIsOpen, currentStep, steps })\n      } else {\n        setIsOpen(false)\n      }\n    }\n  }\n\n  const doDisableInteraction = step?.stepInteraction\n    ? !step?.stepInteraction\n    : disableInteraction\n\n  useEffect(() => {\n    if (step?.action && typeof step?.action === 'function') {\n      step?.action(target)\n    }\n\n    if (step?.disableActions !== undefined) {\n      setDisabledActions(step?.disableActions)\n    }\n  }, [step])\n\n  const popoverPosition = transition\n    ? 'center'\n    : step?.position\n    ? step?.position\n    : position\n\n  return step ? (\n    <Portal>\n      <FocusManager disabled={disableFocusLock}>\n        <Observables\n          mutationObservables={step?.mutationObservables}\n          resizeObservables={step?.resizeObservables}\n          refresh={observableRefresher}\n        />\n\n        <Keyboard\n          setCurrentStep={setCurrentStep}\n          setIsOpen={setIsOpen}\n          stepsLength={steps.length}\n          disableKeyboardNavigation={disableKeyboardNavigation}\n          disable={disabledActions}\n          rtl={rtl}\n        />\n\n        <Mask\n          sizes={sizes}\n          onClick={maskClickHandler}\n          styles={{\n            highlightedArea: (base: any) => ({\n              ...base,\n              display: doDisableInteraction ? 'block' : 'none',\n            }),\n            ...styles,\n          }}\n          padding={maskPadding}\n          highlightedAreaClassName={highlightedMaskClassName}\n          className={maskClassName}\n          onClickHighlighted={onClickHighlighted}\n        />\n\n        <Popover\n          sizes={sizes}\n          styles={styles}\n          position={popoverPosition}\n          padding={popoverPadding}\n          aria-labelledby={accessibilityOptions?.ariaLabelledBy}\n          className={className}\n          refresher={currentStep}\n        >\n          {ContentComponent ? (\n            <ContentComponent\n              styles={styles}\n              setCurrentStep={setCurrentStep}\n              currentStep={currentStep}\n              setIsOpen={setIsOpen}\n              steps={steps}\n              accessibilityOptions={accessibilityOptions}\n              disabledActions={disabledActions}\n              transition={transition}\n              isHighlightingObserved={isHighlightingObserved}\n              rtl={rtl}\n              {...popoverProps}\n            />\n          ) : (\n            <PopoverContent\n              styles={styles}\n              setCurrentStep={setCurrentStep}\n              currentStep={currentStep}\n              setIsOpen={setIsOpen}\n              steps={steps}\n              accessibilityOptions={accessibilityOptions}\n              disabledActions={disabledActions}\n              transition={transition}\n              isHighlightingObserved={isHighlightingObserved}\n              rtl={rtl}\n              {...popoverProps}\n            />\n          )}\n        </Popover>\n      </FocusManager>\n    </Portal>\n  ) : null\n}\n\nexport default Tour\n\nexport interface CustomCSS extends React.CSSProperties {\n  rx: number\n}\n\nconst FocusManager: React.FC<FocusProps> = ({ disabled, children }) => {\n  return disabled ? (\n    <>{children}</>\n  ) : (\n    <FocusScope contain autoFocus restoreFocus>\n      {children}\n    </FocusScope>\n  )\n}\n\ntype FocusProps = {\n  disabled?: boolean\n}\n\nfunction getPadding(padding?: Padding) {\n  if (typeof padding === 'object' && padding !== null) {\n    return {\n      maskPadding: padding.mask,\n      popoverPadding: padding.popover,\n    }\n  }\n  return {\n    maskPadding: padding,\n    popoverPadding: padding,\n  }\n}\n","import React, { useState, useContext } from 'react'\n// import { useControllableState } from '@chakra-ui/hooks'\n\nimport Tour from './Tour'\nimport { ProviderProps, TourProps } from './types'\n\nconst defaultState = {\n  isOpen: false,\n  setIsOpen: () => false,\n  currentStep: 0,\n  setCurrentStep: () => 0,\n  steps: [],\n  setSteps: () => [],\n  disabledActions: false,\n  setDisabledActions: () => false,\n  components: {},\n}\n\nconst TourContext = React.createContext<TourProps>(defaultState)\n\nconst TourProvider: React.FC<ProviderProps> = ({\n  children,\n  defaultOpen = false,\n  startAt = 0,\n  steps: defaultSteps,\n  setCurrentStep: customSetCurrentStep,\n  currentStep: customCurrentStep,\n  ...props\n}) => {\n  const [isOpen, setIsOpen] = useState(defaultOpen)\n  const [currentStep, setCurrentStep] = useState(startAt)\n  const [steps, setSteps] = useState(defaultSteps)\n  const [disabledActions, setDisabledActions] = useState(false)\n\n  const value = {\n    isOpen,\n    setIsOpen,\n    currentStep: customCurrentStep || currentStep,\n    setCurrentStep: customSetCurrentStep || setCurrentStep,\n    steps,\n    setSteps,\n    disabledActions,\n    setDisabledActions,\n    ...props,\n  }\n\n  return (\n    <TourContext.Provider value={value}>\n      {children}\n      {isOpen ? <Tour {...value} /> : null}\n    </TourContext.Provider>\n  )\n}\n\nexport { TourProvider }\n\nexport default TourContext\n\nexport function useTour() {\n  return useContext(TourContext)\n}\n","import React from 'react'\nimport { useTour } from './Context'\n\nexport default function withTour<P>(WrappedComponent: React.ComponentType<P>) {\n  const ComponentWithTour = (props: P) => {\n    const tourProps = useTour()\n    return <WrappedComponent {...props} {...tourProps} />\n  }\n  return ComponentWithTour\n}\n"],"names":["initialState","bottom","height","left","right","top","width","windowWidth","windowHeight","getHighlightedRect","node","highlightedSelectors","bypassElem","hasHighligtedElems","getWindow","w","h","getRect","attrs","altAttrs","element","document","querySelector","style","display","visibility","rect","bypassable","Keyboard","disableKeyboardNavigation","setCurrentStep","setIsOpen","stepsLength","disable","rtl","keyDownHandler","e","isEscDisabled","isRightDisabled","isLeftDisabled","next","c","Math","min","prev","max","stopPropagation","includes","keyCode","preventDefault","useEffect","window","addEventListener","removeEventListener","defaultStyles","badge","position","fontFamily","background","lineHeight","paddingLeft","paddingRight","fontSize","borderRadius","color","textAlign","boxShadow","controls","marginTop","alignItems","justifyContent","navigation","counterReset","flexWrap","button","padding","border","cursor","disabled","arrow","flex","dot","current","counterIncrement","margin","transition","transform","content","opacity","showNumber","backgroundColor","close","stylesMatcher","styles","key","state","base","custom","DefaultArrow","inverted","getStyles","jsx","viewBox","css","d","fill","stroke","strokeWidth","strokeLinecap","strokeMiterlimit","components","Badge","children","Close","onClick","props","role","Content","isHighlightingObserved","currentStep","Navigation","steps","nextButton","prevButton","disableDots","hideButtons","disableAll","Arrow","length","Button","kind","hideArrow","dir","Array","from","_","i","map","index","navDotAriaLabel","PopoverContent","badgeContent","accessibilityOptions","disabledActions","onClickClose","disableDotsNavigation","showPrevNextButtons","showCloseButton","showNavigation","showBadge","step","totalSteps","React","Fragment","closeButtonAriaLabel","showNavigationScreenReaders","Tour","globalStyles","scrollSmooth","afterOpen","beforeClose","onClickMask","onClickHighlighted","className","maskClassName","highlightedMaskClassName","disableInteraction","disableFocusLock","inViewThreshold","setDisabledActions","ContentComponent","popoverProps","scrollOptions","block","behavior","useState","setTransition","observing","setObserving","setIsHighlightingObserved","refresher","setRefresher","dimensions","setdDimensions","target","selector","Element","handleResize","useCallback","inView","threshold","smoothScroll","then","Date","now","sizes","observableRefresher","dimesions","useSizes","maskPadding","mask","popoverPadding","popover","getPadding","doDisableInteraction","stepInteraction","action","undefined","disableActions","popoverPosition","Portal","FocusManager","Observables","mutationObservables","resizeObservables","refresh","Mask","highlightedArea","highlightedAreaClassName","Popover","ariaLabelledBy","FocusScope","contain","autoFocus","restoreFocus","TourContext","createContext","isOpen","setSteps","useTour","useContext","defaultOpen","startAt","defaultSteps","customSetCurrentStep","customCurrentStep","value","Provider","WrappedComponent","tourProps"],"mappings":"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"}